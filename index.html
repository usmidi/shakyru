<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #f9f7fe, #e6e9ff);
            font-family: 'Poppins', sans-serif;
            color: #444;
            margin: 0;
            padding: 0;
        }

        .section-full {
            width: 100vw;
            margin-left: calc(-50vw + 50%);
            padding: 10px 0;
            box-sizing: border-box;
        }

        .hero {
            background: url('https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&w=1920') no-repeat center center/cover;
            height: 100vh;
            color: white;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.4);
        }
        .hero h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            margin-bottom: 1rem;
        }
        .hero p {
            font-size: 1.5rem;
            font-weight: 300;
            max-width: 700px;
            margin: 0 auto;
        }

        .card-block {
            background-color: #fff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            max-width: 900px;
            margin: 0 auto;
            text-align: left;
        }

        .card-block h1,
        .card-block h2,
        .card-block h3 {
            text-align: center;
            color: #333;
            margin-top: 0;
            margin-bottom: 1.5rem;
        }

        .timer-box {
            display: inline-block;
            margin: 0 15px;
            text-align: center;
        }
        .timer-value {
            font-size: 3rem;
            font-weight: bold;
            color: #6a5acd;
            font-family: 'Playfair Display', serif;
        }
        .timer-label {
            font-size: 1.1rem;
            color: #666;
            margin-top: 8px;
        }

        #toggleMusic {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #ffffffdd;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            user-select: none;
            transition: 0.3s;
            z-index: 1050;
        }
        #toggleMusic:hover {
            background: #fff;
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <section class="section-full hero fade-in">
        <div class="content" style="position: relative; z-index: 2;">
            <h2>–°–≤–∞–¥—å–±–∞<br>–ò–≤–∞–Ω–∞ & –ú–∞—Ä–∏–∏</h2>
            <p>–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤–∞—Å —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å –Ω–∞–º–∏ —ç—Ç–æ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å</p>
        </div>
    </section>

    <!-- Address Section -->
    <section class="section-full">
        <div class="container">
            <div class="card-block fade-in">
                <h1>–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</h1>
                <h4>–†–µ—Å—Ç–æ—Ä–∞–Ω –•–∞–Ω –°—É–ª—Ç–∞–Ω</h4>

                <!-- üìå –¢—ã –º–µ–Ω—è–µ—à—å –¥–∞—Ç—É —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å -->
                <p>–£–ª–∏—Ü–∞ –†–∞–π—ã–º–±–µ–∫ –±–∞—Ç—ã—Ä–∞, 166–∞, –ê–ª–º–∞—Ç—ã</p>
                <p><strong>–î–∞—Ç–∞:</strong> 02 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.</p>
                <p><strong>–í—Ä–µ–º—è:</strong> 16:00</p>

                <div class="container text-center mt-4">
                    <iframe src="https://yandex.kz/map-widget/v1/-/CLGLIFNu" 
                            width="100%" height="300" frameborder="0" allowfullscreen></iframe>
                </div>

                <div class="text-center mt-3">
                    <a href="https://yandex.kz/maps/-/CLGLIFNu" target="_blank" class="btn btn-primary">
                        üìç –û—Ç–∫—Ä—ã—Ç—å –≤ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞—Ö ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Countdown Section -->
    <section class="section-full">
        <div class="container">
            <div class="card-block fade-in">
                <h3>–î–æ —Å–≤–∞–¥—å–±—ã –æ—Å—Ç–∞–ª–æ—Å—å:</h3>
                <div id="countdown-timer" class="d-flex justify-content-center">
                    <div class="timer-box">
                        <div class="timer-value" id="days">00</div>
                        <div class="timer-label">–î–Ω–µ–π</div>
                    </div>
                    <div class="timer-box">
                        <div class="timer-value" id="hours">00</div>
                        <div class="timer-label">–ß–∞—Å–æ–≤</div>
                    </div>
                    <div class="timer-box">
                        <div class="timer-value" id="minutes">00</div>
                        <div class="timer-label">–ú–∏–Ω—É—Ç</div>
                    </div>
                    <div class="timer-box">
                        <div class="timer-value" id="seconds">00</div>
                        <div class="timer-label">–°–µ–∫—É–Ω–¥</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section class="section-full">
        <div class="container">
            <div class="card-block fade-in">
                <h2>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à–µ —É—á–∞—Å—Ç–∏–µ</h2>
                <form id="rsvpForm">
                    <div class="mb-3">
                        <label for="name" class="form-label">–í–∞—à–µ –∏–º—è</label>
                        <input type="text" class="form-control" id="name" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label d-block">–í—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ:</label>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="attendance" value="–æ–¥–∏–Ω(–∞)" required>
                            <label class="form-check-label">–û–¥–∏–Ω(–∞)</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="attendance" value="—Å —Å—É–ø—Ä—É–≥–æ–π/—Å—É–ø—Ä—É–≥–æ–º">
                            <label class="form-check-label">–° —Å—É–ø—Ä—É–≥–æ–π/—Å—É–ø—Ä—É–≥–æ–º</label>
                        </div>
                    </div>

                    <div class="text-center mt-3">
                        <button type="submit" class="btn btn-primary" id="submitBtn" style="
                            padding: 12px 28px;
                            font-size: 1.1rem;
                            font-weight: bold;
                            background-color: #25D366;
                            border: none;
                            border-radius: 10px;
                        ">
                            –û—Ç–ø—Ä–∞–≤–∏—Ç—å üì≤
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <footer class="bg-light text-center py-4">
        <p>&copy; 2025 –ò–≤–∞–Ω & –ú–∞—Ä–∏—è</p>
    </footer>

    <audio id="bgMusic" autoplay loop muted>
        <source src="music.mp3" type="audio/mpeg">
    </audio>
    <div id="toggleMusic">üîá</div>

    <script>
        function getWeddingDateTime() {
            const allP = document.querySelectorAll('.card-block p');

            let dateText = "", timeText = "";

            allP.forEach(p => {
                const txt = p.textContent.trim();
                if (txt.startsWith("–î–∞—Ç–∞:")) dateText = txt;
                if (txt.startsWith("–í—Ä–µ–º—è:")) timeText = txt;
            });

            const dateMatch = dateText.match(/–î–∞—Ç–∞:\s*(\d{2})\s+(\S+)\s+(\d{4})/);
            const timeMatch = timeText.match(/–í—Ä–µ–º—è:\s*(\d{1,2}:\d{2})/);

            if (!dateMatch || !timeMatch) return new Date("2026-02-02 16:00");

            const day = dateMatch[1];
            const monthName = dateMatch[2].toLowerCase();
            const year = dateMatch[3];
            const time = timeMatch[1];

            const monthMap = {
                "—è–Ω–≤–∞—Ä—è": "01","—Ñ–µ–≤—Ä–∞–ª—è": "02","–º–∞—Ä—Ç–∞": "03","–∞–ø—Ä–µ–ª—è": "04",
                "–º–∞—è": "05","–∏—é–Ω—è": "06","–∏—é–ª—è": "07","–∞–≤–≥—É—Å—Ç–∞": "08",
                "—Å–µ–Ω—Ç—è–±—Ä—è": "09","–æ–∫—Ç—è–±—Ä—è": "10","–Ω–æ—è–±—Ä—è": "11","–¥–µ–∫–∞–±—Ä—è": "12"
            };

            const month = monthMap[monthName];
            return new Date(`${year}-${month}-${day} ${time}`);
        }

        const weddingDate = getWeddingDateTime().getTime();

        setInterval(() => {
            const now = Date.now();
            const diff = weddingDate - now;

            if (diff <= 0) return;

            document.getElementById("days").textContent = String(Math.floor(diff / 86400000)).padStart(2, "0");
            document.getElementById("hours").textContent = String(Math.floor((diff % 86400000) / 3600000)).padStart(2, "0");
            document.getElementById("minutes").textContent = String(Math.floor((diff % 3600000) / 60000)).padStart(2, "0");
            document.getElementById("seconds").textContent = String(Math.floor((diff % 60000) / 1000)).padStart(2, "0");
        }, 1000);

        document.getElementById("rsvpForm").addEventListener("submit", function(e) {
            e.preventDefault();
            const name = document.getElementById("name").value;
            const attendance = document.querySelector('input[name="attendance"]:checked').value;
            const phone = "77081698869";
            const msg = encodeURIComponent(`–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø, ${name}, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é —É—á–∞—Å—Ç–∏–µ. –ü—Ä–∏–¥—É ${attendance}.`);
            window.open(`https://wa.me/${phone}?text=${msg}`, "_blank");
        });

        const bgMusic = document.getElementById("bgMusic");
        const toggleMusic = document.getElementById("toggleMusic");
        bgMusic.volume = 0.4;

        setTimeout(() => {
            bgMusic.muted = false;
            toggleMusic.textContent = "üîä";
        }, 1200);

        toggleMusic.onclick = () => {
            if (bgMusic.paused) {
                bgMusic.play();
                toggleMusic.textContent = "üîä";
            } else {
                bgMusic.pause();
                toggleMusic.textContent = "üîá";
            }
        };
    </script>

</body>
</html>
